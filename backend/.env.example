# ===========================================
# Bumbac LOCAL Development Environment
# ===========================================
# Скопируйте этот файл в .env.local и заполните значения

# Environment Profile
SPRING_PROFILES_ACTIVE=local

# ===========================================
# DATABASE CONFIGURATION
# ===========================================
DB_HOST=localhost
DB_PORT=3307
DB_NAME=yarn_store_local
DB_USERNAME=denis
DB_PASSWORD=local123
DB_ROOT_PASSWORD=root123
DB_POOL_SIZE=10
DB_POOL_MIN_IDLE=2

# ===========================================
# JPA/HIBERNATE CONFIGURATION
# ===========================================
JPA_DDL_AUTO=update
JPA_SHOW_SQL=true
JPA_FORMAT_SQL=true

# ===========================================
# SERVER CONFIGURATION
# ===========================================
SERVER_PORT=8080
SERVER_ADDRESS=127.0.0.1
SERVER_CONTEXT_PATH=
SERVER_ERROR_INCLUDE_STACKTRACE=always

# ===========================================
# JWT CONFIGURATION
# ===========================================
# ВАЖНО: Используйте длинный секретный ключ (минимум 32 символа)
JWT_SECRET=local-development-secret-key-must-be-at-least-32-chars-long-for-security
JWT_EXPIRATION=86400000

# ===========================================
# MAIL CONFIGURATION (MailHog for local)
# ===========================================
MAIL_HOST=localhost
MAIL_PORT=1025
MAIL_USERNAME=
MAIL_PASSWORD=
MAIL_SMTP_AUTH=false
MAIL_STARTTLS=false
MAIL_HEALTH_CHECK_ENABLED=false

# Application mail settings
MAIL_FROM=bumbac.local@example.com
MAIL_REPLY_TO=

# ===========================================
# APPLICATION URLS
# ===========================================
APP_URL_BASE=http://localhost:8080

# ===========================================
# MEDIA CONFIGURATION
# ===========================================
MEDIA_UPLOAD_DIR=uploads/
MEDIA_BASE_URL=http://localhost:8080/media/
MEDIA_MAX_FILE_SIZE=10MB
MEDIA_ALLOWED_FORMATS=jpg,jpeg,png,gif,webp

# ===========================================
# MULTIPART CONFIGURATION
# ===========================================
MULTIPART_MAX_FILE_SIZE=10MB
MULTIPART_MAX_REQUEST_SIZE=10MB

# ===========================================
# BUSINESS LOGIC CONFIGURATION
# ===========================================
ORDER_DEFAULT_STATUS=NEW
ORDER_MAX_ITEMS=100
ORDER_MAX_TOTAL=10000.00
ORDER_AUTO_CLEAR_CART=true

# ===========================================
# SECURITY & RATE LIMITING
# ===========================================
# Relaxed for development
RATE_LIMIT_REQUESTS_PER_MINUTE=1000
RATE_LIMIT_BURST_CAPACITY=2000
RATE_LIMIT_LOGIN_ATTEMPTS_PER_MINUTE=50
RATE_LIMIT_LOGIN_BURST_CAPACITY=100

# ===========================================
# MANAGEMENT & MONITORING
# ===========================================
MANAGEMENT_ENDPOINTS=health,info,metrics,env,configprops,beans,mappings
HEALTH_SHOW_DETAILS=always

# ===========================================
# SPRINGDOC/SWAGGER
# ===========================================
SPRINGDOC_ENABLED=true
SWAGGER_UI_ENABLED=true

# ===========================================
# LOGGING CONFIGURATION
# ===========================================
LOG_LEVEL_APP=DEBUG
LOG_LEVEL_SPRING=INFO
LOG_LEVEL_HIBERNATE=INFO
LOG_LEVEL_SECURITY=DEBUG
LOG_FILE=logs/bumbac-local.log
LOG_MAX_FILE_SIZE=10MB
LOG_MAX_HISTORY=30
LOG_TOTAL_SIZE_CAP=100MB

# ===========================================
# ИНСТРУКЦИИ ПО НАСТРОЙКЕ
# ===========================================
# 1. Скопируйте этот файл: cp .env.example .env.local
# 2. Убедитесь что Docker Desktop запущен
# 3. Запустите: scripts/local/start.bat
# 4. Проверьте статус: scripts/local/check.bat
#
# Полезные ссылки после запуска:
# - Backend API: http://localhost:8080
# - Swagger UI: http://localhost:8080/swagger-ui.html
# - PhpMyAdmin: http://localhost:8081
# - MailHog: http://localhost:8025