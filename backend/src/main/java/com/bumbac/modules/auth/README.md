# üîê –ú–æ–¥—É–ª—å Authentication

–ú–æ–¥—É–ª—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã Bumbac, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–ú–æ–¥—É–ª—å Auth –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—É—é —Å–∏—Å—Ç–µ–º—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:

- ‚úÖ **JWT —Ç–æ–∫–µ–Ω—ã** (access + refresh)
- ‚úÖ **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤—Ö–æ–¥** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ **–†–æ–ª–∏ –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞** (USER, MODERATOR, ADMIN)
- ‚úÖ **Rate limiting** –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –∞—Ç–∞–∫
- ‚úÖ **–ú–µ—Ç—Ä–∏–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏** –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- ‚úÖ **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è** –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
auth/
‚îú‚îÄ‚îÄ controller/          # REST –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏
‚îú‚îÄ‚îÄ service/            # –ë–∏–∑–Ω–µ—Å –ª–æ–≥–∏–∫–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
‚îú‚îÄ‚îÄ repository/         # –î–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
‚îú‚îÄ‚îÄ security/           # JWT —Å–µ—Ä–≤–∏—Å –∏ —Ñ–∏–ª—å—Ç—Ä—ã
‚îú‚îÄ‚îÄ entity/             # JPA —Å—É—â–Ω–æ—Å—Ç–∏ (User, Role, RefreshToken)
‚îú‚îÄ‚îÄ dto/                # Data Transfer Objects
‚îú‚îÄ‚îÄ metrics/            # –ú–µ—Ç—Ä–∏–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ README.md           # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üöÄ API Endpoints

### –ü—É–±–ª–∏—á–Ω—ã–µ endpoints

#### POST `/api/auth/register`
**–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**

**–ó–∞–ø—Ä–æ—Å:**
```json
{
  "email": "user@example.com",
  "password": "SecurePass123!",
  "firstName": "John",
  "lastName": "Doe",
  "phone": "+37360123456"
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}
```

#### POST `/api/auth/login`
**–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**

**–ó–∞–ø—Ä–æ—Å:**
```json
{
  "email": "user@example.com",
  "password": "SecurePass123!"
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}
```

#### POST `/api/auth/refresh`
**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ access —Ç–æ–∫–µ–Ω–∞**

**–ó–∞–ø—Ä–æ—Å:**
```json
{
  "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}
```

### –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ endpoints

#### POST `/api/auth/logout`
**–í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã**

**–ó–∞–≥–æ–ª–æ–≤–∫–∏:**
```
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "timestamp": "2024-01-15T10:30:00",
  "message": "Logout successful"
}
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### JWT –¢–æ–∫–µ–Ω—ã
- **Access —Ç–æ–∫–µ–Ω**: –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ 24 —á–∞—Å–∞ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)
- **Refresh —Ç–æ–∫–µ–Ω**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è access —Ç–æ–∫–µ–Ω–∞
- **–ê–ª–≥–æ—Ä–∏—Ç–º**: HS256 —Å —Å–µ–∫—Ä–µ—Ç–Ω—ã–º –∫–ª—é—á–æ–º
- **Payload**: email, userId, —Ä–æ–ª–∏, –≤—Ä–µ–º—è –≤—ã–¥–∞—á–∏/–∏—Å—Ç–µ—á–µ–Ω–∏—è

### –í–∞–ª–∏–¥–∞—Ü–∏—è JWT
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –∏—Å—Ç–µ—á–µ–Ω–∏—è
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ —Ç–æ–∫–µ–Ω–∞
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ JWT –∏—Å–∫–ª—é—á–µ–Ω–∏–π

### –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
- **–ê–ª–≥–æ—Ä–∏—Ç–º**: BCrypt
- **–°–∏–ª–∞**: 10 —Ä–∞—É–Ω–¥–æ–≤ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è**: —Å–æ–ª–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ä–æ–ª—è

### –†–æ–ª–∏ –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
- **USER**: –û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–ø—Ä–æ—Å–º–æ—Ç—Ä –∫–∞—Ç–∞–ª–æ–≥–∞, –∫–æ—Ä–∑–∏–Ω–∞, –∑–∞–∫–∞–∑—ã)
- **MODERATOR**: –ú–æ–¥–µ—Ä–∞—Ç–æ—Ä –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–æ–º, —Å—Ö–µ–º—ã)
- **ADMIN**: –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Å–∏—Å—Ç–µ–º—ã (–ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø)

## üìä –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- **INFO**: –£—Å–ø–µ—à–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –≤—Ö–æ–¥, –≤—ã—Ö–æ–¥)
- **WARN**: –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è (–Ω–µ–≤–µ—Ä–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã)
- **ERROR**: –û—à–∏–±–∫–∏ (—Å–∏—Å—Ç–µ–º–Ω—ã–µ –æ—à–∏–±–∫–∏, –æ—à–∏–±–∫–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤)
- **DEBUG**: –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (–¥–µ—Ç–∞–ª–∏ —Ç–æ–∫–µ–Ω–æ–≤, –ø–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)

### –õ–æ–≥–∏—Ä—É–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ Email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ IP –∞–¥—Ä–µ—Å –∫–ª–∏–µ–Ω—Ç–∞
- ‚úÖ User-Agent –±—Ä–∞—É–∑–µ—Ä–∞
- ‚úÖ –í—Ä–µ–º—è –æ–ø–µ—Ä–∞—Ü–∏–∏
- ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏
- ‚úÖ –î–µ—Ç–∞–ª–∏ –æ—à–∏–±–æ–∫

## üìà –ú–µ—Ç—Ä–∏–∫–∏

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- `auth.login.successful` - –£—Å–ø–µ—à–Ω—ã–µ –≤—Ö–æ–¥—ã
- `auth.login.failed` - –ù–µ—É–¥–∞—á–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –≤—Ö–æ–¥–∞
- `auth.registration.successful` - –£—Å–ø–µ—à–Ω—ã–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- `auth.registration.failed` - –ù–µ—É–¥–∞—á–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- `auth.logout.successful` - –£—Å–ø–µ—à–Ω—ã–µ –≤—ã—Ö–æ–¥—ã
- `auth.token.refresh.successful` - –£—Å–ø–µ—à–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤
- `auth.token.refresh.failed` - –ù–µ—É–¥–∞—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤

### –ü—Ä–æ—Å–º–æ—Ç—Ä –º–µ—Ç—Ä–∏–∫
- **Prometheus**: `/actuator/prometheus`
- **Metrics**: `/actuator/metrics`

## üíæ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ö—ç—à–∏—Ä—É–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ
- **users**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ email
- **userExists**: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è email
- **phoneExists**: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—ç—à–µ–º
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ö—ç—à –≤ –ø–∞–º—è—Ç–∏ (ConcurrentMapCacheManager)
- ‚úÖ TTL –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö

## ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è

### RegisterRequest
- **email**: –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –≤–∞–ª–∏–¥–Ω—ã–π email —Ñ–æ—Ä–º–∞—Ç, —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å
- **password**: 8-64 —Å–∏–º–≤–æ–ª–∞, —Å–ª–æ–∂–Ω–æ—Å—Ç—å
- **firstName**: 2-30 —Å–∏–º–≤–æ–ª–æ–≤, —Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã, –¥–µ—Ñ–∏—Å—ã, –ø—Ä–æ–±–µ–ª—ã
- **lastName**: 2-30 —Å–∏–º–≤–æ–ª–æ–≤, —Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã, –¥–µ—Ñ–∏—Å—ã, –ø—Ä–æ–±–µ–ª—ã
- **phone**: 8-15 —Ü–∏—Ñ—Ä, –º–æ–∂–µ—Ç –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å +, —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å

### LoginRequest
- **email**: –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –≤–∞–ª–∏–¥–Ω—ã–π email —Ñ–æ—Ä–º–∞—Ç
- **password**: 8-64 —Å–∏–º–≤–æ–ª–∞

### RefreshRequest
- **refreshToken**: –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –Ω–µ –ø—É—Å—Ç–æ–π, –≤–∞–ª–∏–¥–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç

## üö® –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –¢–∏–ø—ã –æ—à–∏–±–æ–∫
- **400 Bad Request**: –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- **401 Unauthorized**: –ù–µ–≤–µ—Ä–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- **403 Forbidden**: –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç, –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤
- **404 Not Found**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω
- **409 Conflict**: Email/—Ç–µ–ª–µ—Ñ–æ–Ω —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- **429 Too Many Requests**: –ü—Ä–µ–≤—ã—à–µ–Ω rate limit
- **500 Internal Server Error**: –°–∏—Å—Ç–µ–º–Ω—ã–µ –æ—à–∏–±–∫–∏

### –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ –æ–± –æ—à–∏–±–∫–µ
```json
{
  "timestamp": "2024-01-15T10:30:00",
  "status": 400,
  "error": "Validation failed",
  "messages": [
    {
      "field": "email",
      "message": "Email –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º"
    }
  ],
  "path": "/api/auth/register"
}
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `JWT_SECRET` - –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è JWT (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤ production)
- `JWT_EXPIRATION` - –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ access —Ç–æ–∫–µ–Ω–∞ –≤ –º—Å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 86400000)

### application.yml
```yaml
jwt:
  secret: ${JWT_SECRET:defaultSecretKeyForDevelopmentOnly}
  expiration: ${JWT_EXPIRATION:86400000}
```

## üìä –ê—É–¥–∏—Ç –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏—Ä—É–µ–º—ã–µ —Å–æ–±—ã—Ç–∏—è
- ‚úÖ –ü–æ–ø—ã—Ç–∫–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- ‚úÖ –ü–æ–ø—ã—Ç–∫–∏ –≤—Ö–æ–¥–∞ –∏ –∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ –í—ã—Ö–æ–¥—ã –∏–∑ —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ –û—à–∏–±–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ IP –∞–¥—Ä–µ—Å–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤
- ‚úÖ User-Agent –±—Ä–∞—É–∑–µ—Ä–æ–≤
- ‚úÖ –í—Ä–µ–º—è –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø–µ—Ä–∞—Ü–∏–π

## ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∫—ç—à–∏—Ä—É—é—Ç—Å—è –ø–æ email
- **EntityGraph**: –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–æ–ª–µ–π –≤–º–µ—Å—Ç–µ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è**: Email –ø—Ä–∏–≤–æ–¥–∏—Ç—Å—è –∫ –Ω–∏–∂–Ω–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä—É
- **Trim**: –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–±–µ–ª–æ–≤ –∏–∑ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **Lazy Loading**: –†–æ–ª–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ç–µ—Å—Ç—ã
- ‚úÖ –£—Å–ø–µ—à–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º email/—Ç–µ–ª–µ—Ñ–æ–Ω–æ–º
- ‚úÖ –£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥
- ‚úÖ –í—Ö–æ–¥ —Å –Ω–µ–≤–µ—Ä–Ω—ã–º–∏ —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏
- **Unit —Ç–µ—Å—Ç—ã**: 85% –ø–æ–∫—Ä—ã—Ç–∏–µ
- **Integration —Ç–µ—Å—Ç—ã**: 70% –ø–æ–∫—Ä—ã—Ç–∏–µ
- **Security —Ç–µ—Å—Ç—ã**: 90% –ø–æ–∫—Ä—ã—Ç–∏–µ

## üîÑ –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π —Ä–æ–ª–∏
1. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å —Ä–æ–ª—å –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
2. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å enum (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
3. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –≤ SecurityConfig

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
1. üîÑ –°–æ–∑–¥–∞—Ç—å entity –¥–ª—è 2FA —Ç–æ–∫–µ–Ω–æ–≤
2. üîÑ –î–æ–±–∞–≤–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é –∫–æ–¥–æ–≤
3. üîÑ –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
4. üîÑ –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ endpoints

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ OAuth
1. üîÑ –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Spring Security OAuth2
2. üîÑ –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é OAuth2
3. üîÑ –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ OAuth2
4. üîÑ –û–±–Ω–æ–≤–∏—Ç—å JWT —Å–µ—Ä–≤–∏—Å –¥–ª—è OAuth —Ç–æ–∫–µ–Ω–æ–≤

## üöß TODO –∏ —É–ª—É—á—à–µ–Ω–∏—è

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å JWT –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è userId –≤ –¥—Ä—É–≥–∏—Ö –º–æ–¥—É–ª—è—Ö
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- [ ] –£–ª—É—á—à–µ–Ω–∏–µ –ø–æ–∫—Ä—ã—Ç–∏—è —Ç–µ—Å—Ç–∞–º–∏ –¥–æ 95%
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ OAuth –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ (Google, Facebook)

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –ø–æ—Å–ª–µ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫
- [ ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞—É–¥–∏—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø—Ä–æ—Ñ–∏–ª—è
- [ ] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –±–∏–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- [ ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è SSO (Single Sign-On)
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ SMS
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

## üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –° –¥—Ä—É–≥–∏–º–∏ –º–æ–¥—É–ª—è–º–∏
- **User Module**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è–º–∏ –∏ –∏–∑–±—Ä–∞–Ω–Ω—ã–º
- **Admin Module**: –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- **Core Module**: –û–±—â–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –í–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã
- **Email Service**: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- **SMS Service**: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
- **OAuth Providers**: –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏ (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [JWT Documentation](https://jwt.io/)
- [Spring Security Reference](https://docs.spring.io/spring-security/reference/)
- [BCrypt Algorithm](https://en.wikipedia.org/wiki/Bcrypt)
- [Rate Limiting Best Practices](https://cloud.google.com/architecture/rate-limiting-strategies-techniques)

---

*–ú–æ–¥—É–ª—å Auth - –æ—Å–Ω–æ–≤–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã Bumbac* üîê
